replicaCount: 2

image:
  repository: 635566485987.dkr.ecr.ap-northeast-1.amazonaws.com/react-nginx
  tag: e378e3f
  pullPolicy: IfNotPresent

service:
  type: ClusterIP
  port: 80

env:
- name: BACKEND_HOST
  value: "ackend.backend.svc.cluster.local"
- name: BACKEND_PORT
  value: "8080"
- name: VITE_CLIENT_ID
  valueFrom:
    secretKeyRef:
      name: "{{ .Release.Name }}-secrets"
      key: VITE_CLIENT_ID
- name: VITE_COGNITO_DOMAIN
  valueFrom:
    secretKeyRef:
      name: "{{ .Release.Name }}-secrets"
      key: VITE_COGNITO_DOMAIN
- name: VITE_REDIRECT_URI
  valueFrom:
    secretKeyRef:
      name: "{{ .Release.Name }}-secrets"
      key: VITE_REDIRECT_URI

ingress:
  enabled: true
  hosts:
  - host: estimate-app.com
    paths:
    - /
  annotations:
    kubernetes.io/ingress.class: alb
    alb.ingress.kubernetes.io/scheme: internet-facing
    alb.ingress.kubernetes.io/target-type: ip
    alb.ingress.kubernetes.io/listen-ports: '[{"HTTP":80},{"HTTPS":443}]'
    alb.ingress.kubernetes.io/certificate-arn: arn:aws:acm:ap-northeast-1:635566485987:certificate/d8d09f96-ee58-49fa-9d4c-57a85903ea9e
    alb.ingress.kubernetes.io/actions.ssl-redirect: >
      {"Type":"redirect","RedirectConfig":{"Protocol":"HTTPS","Port":"443","StatusCode":"HTTP_301"}}
